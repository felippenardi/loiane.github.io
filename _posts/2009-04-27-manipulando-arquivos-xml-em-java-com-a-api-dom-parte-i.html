---
layout: post
title: Manipulando arquivos XML em Java com a API DOM – Parte I
date: 2009-04-27 12:16:49.000000000 -03:00
type: post
published: true
status: publish
categories:
- Java
- XML
tags:
- DOM
- Java
- Tutoriais
- XML
meta:
views: '22411'
category: pt-br
language: pt-br
display_name: Loiane
first_name: Loiane
last_name: ''
---
<p style="text-align: justify;"><strong><em>A interface DOM</em></strong></p>
<p style="text-align: justify;">DOM é uma interface de programação, baseada no modelo de objetos, que permite a manipulação e transformação de documentos em XML. A interface DOM manipula documentos XML na forma de uma estrutura em árvore. Quando um documento é carregado na memória do computador, suas estruturas podem ser lidas e manipuladas através do objeto DOM.</p>
<p style="text-align: justify;">A interface DOM faz a representação do documento XML na forma de uma árvore de objetos, onde cada nó da árvore representa um componente do documento. Após o processamento completo do documento XML, a memória deverá conter a árvore de objetos DOM, a qual disponibiliza para as aplicações qualquer informação relacionada à estrutura e ao conteúdo do documento.</p>
<p style="text-align: justify;">O modelo implementado pela interface DOM é a forma mais flexível para manipulação do conteúdo de um documento XML. Este modelo não é limitado pela ordem em que as estruturas do documento são processadas, logo é possível navegar pelo documento em qualquer ordem. Contudo, como utilização do objeto DOM requer a leitura de toda estrutura XML em uma árvore na memória, pode acontecer um alto consumo de recursos da máquina.</p>
<p style="text-align: justify;">O modelo DOM define classes de objetos para representar cada fragmento de um documento XML. Existem objetos para representação de elementos, atributos, entidades, texto, entre outros. O objeto básico do DOM é o nó (Node). Existem especializações para os diversos tipos de nó. O nó é um objeto genérico na árvore e, portanto, a maioria dos objetos DOM herdam dele. O elemento mais alto de uma árvore DOM é representado pelo objeto Document, que também herda do objeto Node. Conceitualmente, este elemento é a raiz da árvore e a partir dele é possível acessar a árvore completa do documento XML.</p>
<p style="text-align: justify;">A figura abaixo representa o mapa DOM:</p>
<p style="text-align: justify;"><img class="aligncenter size-full wp-image-426" title="dom01" src="{{ site.baseurl }}/assets/images/assets/dom01.png" alt="dom01" width="370" height="340" /></p>
<p style="text-align: justify;">Agora você já sabe que a interface DOM é baseada em uma estrutura em forma de árvore; sabe que a árvore Dom contém um número de nós (Node). Do ponto de vista da linguagem java, um Node é uma interface. O Node é um tipo de dado base do DOM. Tudo na árvore DOM é um Node de um tipo ou de algum outro tipo.</p>
<p style="text-align: justify;">Observe algumas interfaces importantes da API DOM:</p>
<p style="text-align: justify;"><img class="aligncenter size-full wp-image-427" title="dom02" src="{{ site.baseurl }}/assets/images/assets/dom02.png" alt="dom02" width="570" height="332" /></p>
<p style="text-align: justify;">O DOM define algumas subinterfaces da interface Node:</p>
<ul>
<li> Element: representa um elemento XML</li>
<li> Attr: representa um atributo do elemento XML</li>
<li> Text: é o conteúdo de um elemento. Isso significa que um elemento com informação do tipo texto contém um filho do tipo nó de texto</li>
<li> Document: represente todo o documento XML. Apenas um objeto Document existe em cada XML que você faz o parse. Dado um objeto Document, você pode saber qual o elemento raiz da árvore DOM; a partir da raiz, você pode usar as funções da interface DOM para ler a manipular a árvore XML.</li>
</ul>
<p style="text-align: justify;">Alguns outros tipos: Comment, que representa um comentário no arquivo XML; ProcessingInstruction, que representa uma instrução de processamento; CDATASection, que representa uma seção CDATA.<br />
É um pouco raro utilizar esses tipos, mas agora você já sabem que eles também existem.</p>
<p style="text-align: justify;"><em><strong>Métodos</strong></em></p>
<p style="text-align: justify;">Quando se trabalha com DOM, você geralmente irá chamar os métodos listados abaixo:</p>
<ul>
<li><em>Document,getDocumentElement()</em>: retorna o elemento raiz da árvore DOM.</li>
<li> <em>Node.getFirstChild()</em> e <em>Node.getLastChild()</em>: retorna o primeiro elemento filho ou o último elemento filho de um determinado nó.</li>
<li> <em>Element.getAttribute(String attrName)</em>: para um dado Elemento (Element), retorna o valor do atributo cujo nome foi passado como parâmetro. Se você quiser saber qual é o vlaor do atributo 'id', use Element.getAttribute("id"). Se o atributo não existe, retorna uma String vazia ("").</li>
</ul>
<p style="text-align: justify;"><strong><em>Exemplo XML e DOM</em></strong></p>
<p style="text-align: justify;">Vamos pegar o XML abaixo como exemplo:</p>
<p style="text-align: center;"><img class="size-full wp-image-428 aligncenter" title="dom04" src="{{ site.baseurl }}/assets/images/assets/dom04.png" alt="dom04" width="334" height="73" /></p>
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">Apesar da interface DOM não especificar como se deve parsear um documento XML, especifica a sintaxe do documento e como os elementos estão estruturados como objetos DOM. Um documento XML é armazenado numa estrutura hierárquica em forma de árvore, e para cada elemento da árvore, é feita a conexão com seu pai ou filho, ou ainda informação (dado em forma de texto).</p>
<p style="text-align: justify;">A figura abaixo mostra como é a estrutura do XML acima vista pela API DOM:</p>
<p style="text-align: center;"><img class="size-full wp-image-429 aligncenter" title="dom03" src="{{ site.baseurl }}/assets/images/assets/dom03.png" alt="dom03" width="554" height="426" /></p>
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;">
<p style="text-align: justify;"><em><strong>Conclusão</strong></em></p>
<p style="text-align: justify;">A interface baseada em objeto, semelhando ao DOM, é ideal para aplicações que manipulam todo o documento XML, tais como: navegadores, editores, processadores XSL, entre outras.</p>
<p style="text-align: justify;">E no próximo post sobre a série, um passo a passo em java de como manipular um documento XML utilizando a interface DOM.</p>
<p style="text-align: justify;">Até a próxima!</p>
